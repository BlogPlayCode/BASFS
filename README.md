
### BASFS File System

# DOCUMENTATION

Made by Blagov, Arkhipov, Syslicov

TODO: Docs

## âš™ï¸ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

```bash
# ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ñ (Linux/macOS, Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ gcc)
$ gcc -std=c11 -Wall -Wextra -o basfs main.c filesystem.c

# Ð·Ð°Ð¿ÑƒÑÐº
$ ./basfs
BASFS loaded. Enter HELP for help.

Enter command
> 
```

â–¶ï¸ Ð•ÑÐ»Ð¸ Ñ„Ð°Ð¹Ð»-Ð´Ð¸ÑÐº `disk.filesystem` Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ÑÑ Ð¿ÑƒÑÑ‚Ð°Ñ Ð¤Ð¡.
ÐŸÑ€Ð¸ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ‡ÐµÑ€ÐµÐ· ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ `EXIT` Ð²ÑÐµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸
ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ÑÑ Ð² ÑÑ‚Ð¾Ñ‚ Ñ„Ð°Ð¹Ð».

---
## ðŸ“‚ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ

| Ð¤Ð°Ð¹Ð»/Ð¿Ð°Ð¿ÐºÐ°         | ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ                                                        |
|--------------------|-------------------------------------------------------------------|
| `main.c`           | CLI-ÑƒÑ‚Ð¸Ð»Ð¸Ñ‚Ð°: Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³ ÐºÐ¾Ð¼Ð°Ð½Ð´, Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ñ API Ñ„Ð°Ð¹Ð»Ð¾Ð²Ð¾Ð¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹|
| `filesystem.c`     | Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ in-memory Ð¤Ð¡ Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°/Ð²Ñ‹Ð³Ñ€ÑƒÐ·ÐºÐ° Ð² `disk.filesystem`   |
| `filesystem.h`     | ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ API (`fs_load`, `fs_select`, â€¦)                         |
| `disk.filesystem`  | Ð¡Ð°Ð¼ Â«Ð´Ð¸ÑÐºÂ»; Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ñ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸                        |
| `README.md`        | Ð’Ñ‹ Ñ‡Ð¸Ñ‚Ð°ÐµÑ‚Ðµ ÐµÐ³Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ                                            |
| `presentation.pptx`| ÐŸÑ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ (Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°, Ð´ÐµÐ¼Ð¾, Ð¿ÐµÑ€ÑÐ¿ÐµÐºÑ‚Ð¸Ð²Ñ‹)                     |
| `logo.png`         | Ð›Ð¾Ð³Ð¾Ñ‚Ð¸Ð¿ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°                                                  |

---
* Ð¡Ñ‚Ñ€Ð¾ÐºÐ°, Ð½Ð°Ñ‡Ð¸Ð½Ð°ÑŽÑ‰Ð°ÑÑÑ Ñ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð° `/`, â€” **Ð¸Ð¼Ñ Ñ„Ð°Ð¹Ð»Ð°** (Ð¿Ð¾Ð»Ð½Ñ‹Ð¹ Ð¿ÑƒÑ‚ÑŒ).
* Ð’ÑÐµ Ð¿Ð¾ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ð²Ð¿Ð»Ð¾Ñ‚ÑŒ Ð´Ð¾ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ³Ð¾ `/` (Ð¸Ð»Ð¸ ÐºÐ¾Ð½Ñ†Ð° Ñ„Ð°Ð¹Ð»Ð°)
  Ð¾Ñ‚Ð½Ð¾ÑÑÑ‚ÑÑ Ðº ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ð¼Ñƒ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ Ñ„Ð°Ð¹Ð»Ð° Ð¸ Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°ÑŽÑ‚ÑÑ **ÐºÐ°Ðº ÐµÑÑ‚ÑŒ**.
* ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐ°ÑŽÑ‰ÐµÐ³Ð¾ `\n` Ñƒ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ð³Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð½Ðµ Ð´Ð¾Ð»Ð¶Ð½Ð¾ â€” Ð¿Ñ€Ð¸
  ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ð¸ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ° Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ ÐµÐ³Ð¾ ÑÐ°Ð¼Ð°, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð°.

> Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾ Ð¿Ñ€Ð¾ÑÑ‚: ÑÑ‚Ð¾ Ð¿Ð»ÑŽÑÑ‹ Ð´Ð»Ñ Ñ‡Ð¸Ñ‚Ð°Ð±ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸ Ð¸ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸, Ð½Ð¾ Ð¼Ð¸Ð½ÑƒÑ â€“
> Ð½ÐµÑ‚ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð° `\n/` Ð²Ð½ÑƒÑ‚Ñ€Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°, Ð¿Ð¾Ð´ÐºÐ°Ñ‚Ð°Ð»Ð¾Ð³Ð¸ Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ ÐºÐ°Ðº Ñ‡Ð°ÑÑ‚ÑŒ
> Ñ‚ÐµÐºÑÑ‚Ð° Ð¿ÑƒÑ‚Ð¸, Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð¸Ð½Ð´ÐµÐºÑÐ°Ñ†Ð¸Ñ.

---
* **In-memory** Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ: Ð¿Ñ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ Ð²ÐµÑÑŒ Ð´Ð¸ÑÐº Ñ‡Ð¸Ñ‚Ð°ÐµÑ‚ÑÑ Ð² RAM â†’ Ð²Ñ‹ÑÐ¾ÐºÐ°Ñ
  ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹, Ð¾Ð´Ð½Ð°ÐºÐ¾ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾Ð¹ Ð¿Ð°Ð¼ÑÑ‚ÑŒÑŽ.
* Ð›Ð¸Ð½ÐµÐ¹Ð½Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº Ð¿Ð¾ Ð¼Ð°ÑÑÐ¸Ð²Ñƒ `FileEntry` â€” O(_n_). Ð”Ð»Ñ ÐºÑ€ÑƒÐ¿Ð½Ñ‹Ñ… Ð°Ñ€Ñ…Ð¸Ð²Ð¾Ð² Ð¼Ð¾Ð¶Ð½Ð¾
  Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð½Ð° Ñ…ÐµÑˆ-Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ Ð¸Ð»Ð¸ ÑÐ±Ð°Ð»Ð°Ð½ÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð´ÐµÑ€ÐµÐ²Ð¾.
* `fs_load()` Ð¸ `fs_save()` ÑÑ‚Ñ€Ð¾Ð³Ð¾ ÑÐ»ÐµÐ´ÑƒÑŽÑ‚ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð½Ð¾Ð¼Ñƒ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñƒ;
  Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð², Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð»Ð¸ Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð² Ð½ÐµÑ‚.
* ÐŸÐ¾Ð´ÐºÐ°Ñ‚Ð°Ð»Ð¾Ð³Ð¸ â€” ÑÑ‚Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ‡Ð°ÑÑ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ð¿ÑƒÑ‚Ð¸ (`/dir/sub/file`). Ð¤Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹
  Ð¸ÐµÑ€Ð°Ñ€Ñ…Ð¸Ð¸ Ð½ÐµÑ‚, Ð½Ð¾ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ Ñ Ð°Ð±ÑÐ¾Ð»ÑŽÑ‚Ð½Ñ‹Ð¼ Ð¿ÑƒÑ‚Ñ‘Ð¼, Ñ‚Ð°Ðº Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð½Ðµ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ°ÐµÑ‚.
* ÐšÐ¾Ð´ Ð¿Ñ€Ð¸Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ C11, warning-clean Ð¿Ñ€Ð¸ `-Wall -Wextra`.

---

```shell
user@user-V:~/Desktop/BASFS-dev$ ./basfs
BASFS loaded. Enter HELP for help.

Enter command
> help
Commands:
  HELP
  LIST
  OPEN <path>
  ADD <path>
  UPDATE <path>
       (last line must be '.')
  REMOVE <path>
  SAVE
  EXIT

Enter command
> list
File list (1):
  - /abc

Enter command
> open /abc
abc

Enter command
> add /test       
OK

Enter command
> update /test
Enter new content (last line must be '.'):
1234
5678
.
Updated

Enter command
> list
File list (2):
  - /abc
  - /test

Enter command
> remove /abc       
Deleted

Enter command
> open /test
1234
5678

Enter command
> save
Saved

Enter command
> exit

Bye!
```
